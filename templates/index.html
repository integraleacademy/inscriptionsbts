{% extends "base.html" %}
{% block content %}

<div class="form-container">
  <h2>ğŸ“ PrÃ©-inscriptions BTS 2026</h2>

  <div class="notice">
    <p>Vous allez complÃ©ter votre dossier de prÃ©-inscription pour intÃ©grer lâ€™un de nos BTS Ã  partir de septembre 2026.</p>
    <ol>
      <li>ComplÃ©tez ce formulaire. Vous recevrez ensuite un <strong>accusÃ© de rÃ©ception</strong> avec votre numÃ©ro de dossier.</li>
      <li>Dans un dÃ©lai de 15 jours, nous Ã©tudierons votre dossier et vous recevrez notre <em>avis dâ€™admission</em>.</li>
      <li>En cas dâ€™avis favorable, vous pourrez confirmer votre inscription en cliquant sur <strong>Â« Je confirme mon inscription Â»</strong>.</li>
    </ol>
    <p class="help">Besoin dâ€™aide ? <a href="https://assistance-alw9.onrender.com/" target="_blank">Cliquez ici</a> ou appelez le <strong>04 22 47 07 68</strong>.</p>
  </div>

  <form id="inscriptionForm" class="tabs-form" method="post" action="{{ url_for('submit') }}" enctype="multipart/form-data">
    <div class="tabs">
      <button type="button" data-tab="tab1" class="active">ğŸªª Infos gÃ©nÃ©rales</button>
      <button type="button" data-tab="tab2">ğŸ“ Formation</button>
      <button type="button" data-tab="tab3">ğŸ§© Infos complÃ©mentaires</button>
      <button type="button" data-tab="tab4">ğŸ’¬ Projet motivÃ©</button>
      <button type="button" data-tab="tab5">ğŸ“ PiÃ¨ces justificatives</button>
    </div>

    <!-- ğŸªª Ã‰tape 1 -->
    <div id="tab1" class="tab active">
      <div class="grid">
        <label>Nom <input name="nom" required></label>
        <label>PrÃ©nom <input name="prenom" required></label>
        <label>Sexe
          <select name="sexe" required>
            <option value="">â€”</option>
            <option>Homme</option>
            <option>Femme</option>
          </select>
        </label>
        <label>Date de naissance <input type="date" name="date_naissance" required></label>
        <label>Ville de naissance <input name="ville_naissance" required></label>
        <label>Code postal de naissance <input name="cp_naissance" required></label>
        <label>Pays de naissance <input name="pays_naissance" required></label>
        <label>NumÃ©ro de sÃ©curitÃ© sociale <input name="num_secu" pattern="\d{15}" required></label>
        <label>Email <input type="email" name="email" required></label>
        <label>Confirmer lâ€™email <input type="email" name="email_confirm" required></label>
        <label>TÃ©lÃ©phone portable <input name="tel" pattern="\d{10}" required></label>
        <label>Adresse postale <input name="adresse" required></label>
        <label>Code postal <input name="cp" required></label>
        <label>Ville <input name="ville" required></label>
      </div>
      <div class="actions">
        <button type="button" class="btn primary next">Ã‰tape suivante â¡ï¸</button>
      </div>
    </div>

    <!-- ğŸ“ Ã‰tape 2 -->
    <div id="tab2" class="tab">
      <label>Formation souhaitÃ©e
        <select name="bts" required>
          <option value="">â€”</option>
          <option value="MOS">BTS MOS (SÃ©curitÃ©)</option>
          <option value="MCO">BTS MCO</option>
          <option value="PI">BTS PI</option>
          <option value="CI">BTS CI</option>
          <option value="NDRC">BTS NDRC</option>
          <option value="CG">BTS ComptabilitÃ©-Gestion</option>
        </select>
      </label>
      <label>ModalitÃ©
        <select name="mode" required>
          <option value="">â€”</option>
          <option value="presentiel">PrÃ©sentiel (Puget-sur-Argens)</option>
          <option value="distanciel">100% Ã  distance (visioconfÃ©rence)</option>
        </select>
      </label>
      <div class="actions">
        <button type="button" class="btn prev">â¬…ï¸ Ã‰tape prÃ©cÃ©dente</button>
        <button type="button" class="btn primary next">Ã‰tape suivante â¡ï¸</button>
      </div>
    </div>

    <!-- ğŸ§© Ã‰tape 3 -->
    <div id="tab3" class="tab">
      <div class="grid">
        <label>BaccalaurÃ©at
          <select name="bac_status" required>
            <option value="">â€”</option>
            <option>Oui</option>
            <option>Non</option>
            <option>PrÃ©vu en 2026</option>
          </select>
        </label>
        <label>Type de bac
          <select name="bac_type">
            <option value="">â€”</option>
            <option>GÃ©nÃ©ral</option>
            <option>Technologique</option>
            <option>Professionnel</option>
            <option>Autre</option>
          </select>
        </label>
        <label>Si â€œAutreâ€, prÃ©ciser <input name="bac_autre"></label>
        <label>Permis B
          <select name="permis_b">
            <option value="">â€”</option>
            <option>Oui</option>
            <option>Non</option>
          </select>
        </label>
      </div>

      <div class="actions">
        <button type="button" class="btn prev">â¬…ï¸ Ã‰tape prÃ©cÃ©dente</button>
        <button type="button" class="btn primary next">Ã‰tape suivante â¡ï¸</button>
      </div>
    </div>

    <!-- ğŸ’¬ Ã‰tape 4 -->
    <div id="tab4" class="tab">
      <label>Pourquoi souhaitez-vous intÃ©grer ce BTS ?
        <textarea name="projet_pourquoi" rows="4" required></textarea>
      </label>
      <label>Quel est votre projet professionnel ?
        <textarea name="projet_objectif" rows="4" required></textarea>
      </label>
      <label>Quelles sont vos passions ?
        <textarea name="projet_passions" rows="4" required></textarea>
      </label>

      <div class="actions">
        <button type="button" class="btn prev">â¬…ï¸ Ã‰tape prÃ©cÃ©dente</button>
        <button type="button" class="btn primary next">Ã‰tape suivante â¡ï¸</button>
      </div>
    </div>

    <!-- ğŸ“ Ã‰tape 5 -->
    <div id="tab5" class="tab">
      <div class="grid">
        <label>Carte dâ€™identitÃ© / Passeport (1 fichier obligatoire) <input type="file" name="ci" accept="application/pdf,image/*" required></label>
        <label>DeuxiÃ¨me page / verso (facultatif) <input type="file" name="ci2" accept="application/pdf,image/*"></label>
        <label>Photo dâ€™identitÃ© <input type="file" name="photo" accept="image/*" required></label>
        <p class="photo-exemple">
          <img src="{{ url_for('static', filename='img/photo-exemple.png') }}" alt="Exemples de photos" style="max-width:280px;border-radius:8px;">
          <br><small>âœ… Photo nette, fond neutre â€” âŒ Pas de selfie ni dâ€™arriÃ¨re-plan visible</small>
        </p>
        <label>Carte Vitale (PDF uniquement) <input type="file" name="carte_vitale" accept="application/pdf" required></label>
        <label>CV (PDF) <input type="file" name="cv" accept="application/pdf" required></label>
        <label>Lettre de motivation (PDF) <input type="file" name="lm" accept="application/pdf" required></label>
      </div>
      <div class="actions">
        <button type="button" class="btn prev">â¬…ï¸ Ã‰tape prÃ©cÃ©dente</button>
        <button class="btn primary" type="submit">âœ… Envoyer ma prÃ©-inscription</button>
      </div>
    </div>
  </form>
</div>

{% endblock %}
